"use strict";(self.webpackChunkfood_app=self.webpackChunkfood_app||[]).push([[601],{601:(M,m,s)=>{s.r(m),s.d(m,{UserRecipesModule:()=>x});var c=s(6814),d=s(3403),u=s(8483),e=s(5879),h=s(7302),f=s(4400),v=s(3740),T=s(7700),r=s(6223),C=s(617),Z=s(2296),R=s(2032),p=s(9157),U=s(3365),A=s(4913),b=s(3680);function _(a,g){if(1&a){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.searchValue="",e.KtG(o.getRecipesData())}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}}function y(a,g){if(1&a&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&a){const t=g.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function S(a,g){if(1&a&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&a){const t=g.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function I(a,g){if(1&a){const t=e.EpF();e.TgZ(0,"div",24)(1,"div",25),e._UZ(2,"img",26),e.TgZ(3,"div",27)(4,"h3"),e._uU(5),e.qZA(),e.TgZ(6,"button",28),e.NdJ("click",function(){const n=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onAddToFav(n.id))}),e._uU(7,"Add To Fav"),e.qZA(),e.TgZ(8,"span",29),e._uU(9),e.ALo(10,"currency"),e.qZA()()()()}if(2&a){const t=g.$implicit,i=e.oxw();e.xp6(2),e.Q6J("src",t.imagePath?i.baseUrlImg+t.imagePath:i.emptyImg,e.LSH),e.xp6(3),e.Oqu(t.name),e.xp6(4),e.Oqu(e.lcZ(10,3,t.price))}}const N=function(){return[5,10,25,100]},D=[{path:"",component:(()=>{class a{handlePageEvent(t){console.log(t),this.pageSize=t.pageSize,this.pageNumber=t.pageIndex,this.getRecipesData()}constructor(t,i,o,n){this._CategoryService=t,this._RecipeService=i,this._FavService=o,this.dialog=n,this.baseUrlImg="https://upskilling-egypt.com:3006/",this.emptyImg="../../../assets/images/auth-bg.png",this.searchValue="",this.hidePageSize=!1,this.showPageSizeOptions=!0,this.showFirstLastButtons=!0,this.disabled=!1,this.pageSize=10,this.pageNumber=1,this.categoryItem="",this.listTags=[],this.listCategories={data:[],pageSize:0,pageNumber:0,totalNumberOfRecords:0,totalNumberOfPages:0},this.tagId=0,this.categoryId=0,this.getRecipesData(),this.getTags(),this.getAllCategories()}getRecipesData(){this._RecipeService.getAllRecipes({name:this.searchValue,tagId:this.tagId,categoryId:this.categoryId,pageSize:this.pageSize,pageNumber:this.pageNumber}).subscribe({next:i=>{this.listData=i,console.log("res of getRecipesData"),console.log(i)},error:i=>{console.log(i)}})}getAllCategories(){this._CategoryService.getAllCategories(this.pageSize,this.pageNumber).subscribe({next:t=>{this.listCategories=t,console.log(`Category REsponse ${t}`),console.log(t.data)},error:t=>{console.log(t)}})}getTags(){this._RecipeService.getAllTags().subscribe({next:t=>{this.listTags=t,console.log("res of getTags"),console.log(t)},error:t=>{console.log(t)}})}openDeleteDialog(t){this.dialog.open(u.T,{data:{itemId:t}}).afterClosed().subscribe(o=>{console.log("The dialog was closed"),console.log(o),o&&this.deleteItem(o)})}deleteItem(t){this._RecipeService.onDeleteItem(t).subscribe({next:i=>{console.log("item deleted"),console.log(i)},error:i=>{console.log(i)},complete:()=>{this.getRecipesData()}})}onAddToFav(t){this._FavService.onAddFavRecipe(t).subscribe({next:i=>{console.log(i)}})}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(h.H),e.Y36(f.j),e.Y36(v.g),e.Y36(T.uw))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-user-recipes"]],decls:49,vars:12,consts:[[1,"page-title"],[1,"row","align-items-center","px-3"],[1,"col-md-8"],[1,"col-md-4","text-end"],["height","300","src","../../../assets/images/Group 48102127.svg","alt","",1,"w-50"],[1,"d-flex","align-items-center","justify-content-between","mt-2"],[1,"h4"],[1,"container"],[1,"row"],[1,"col-md-6"],["appearance","outline",1,"example-form-field","w-100"],["matInput","","type","text",3,"ngModel","ngModelChange","keyup.enter"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"col-md-3"],["appearance","outline"],[3,"ngModel","ngModelChange","selectionChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"row","py-2","gy-3"],["class","col-md-4",4,"ngFor","ngForOf"],["aria-label","Select page",1,"demo-paginator",3,"length","pageSize","pageIndex","pageSizeOptions","page"],["paginator",""],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],[1,"col-md-4"],[1,"position-relative"],["alt","",1,"w-100","rounded-top-2","rounded-bottom-5",3,"src"],[1,"p-2"],[1,"btn","btn-outline-success",3,"click"],[1,"position-absolute","top-0","end-0","badge","text-bg-light","shadow-sm","m-2"]],template:function(i,o){1&i&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div")(5,"h1"),e._uU(6,"Recipe "),e.TgZ(7,"span"),e._uU(8,"item"),e.qZA()(),e.TgZ(9,"p"),e._uU(10," This is a welcoming screen for the entry of the application , you can now see the options "),e.qZA()()(),e.TgZ(11,"div",3)(12,"div"),e._UZ(13,"img",4),e.qZA()()()(),e.TgZ(14,"div")(15,"div",5)(16,"h2",6),e._uU(17,"Recipe Table Details"),e.qZA()(),e.TgZ(18,"p"),e._uU(19,"You can check all details"),e.qZA(),e.TgZ(20,"div",7)(21,"div",8)(22,"div",9)(23,"mat-form-field",10)(24,"mat-label"),e._uU(25,"Clearable input"),e.qZA(),e.TgZ(26,"input",11),e.NdJ("ngModelChange",function(l){return o.searchValue=l})("keyup.enter",function(){return o.getRecipesData()}),e.qZA(),e.YNc(27,_,3,0,"button",12),e.qZA()(),e.TgZ(28,"div",13)(29,"mat-form-field",14)(30,"mat-label"),e._uU(31,"Tag"),e.qZA(),e.TgZ(32,"mat-select",15),e.NdJ("ngModelChange",function(l){return o.tagId=l})("selectionChange",function(){return o.getRecipesData()}),e.TgZ(33,"mat-option",16),e._uU(34,"All"),e.qZA(),e.YNc(35,y,2,2,"mat-option",17),e.qZA()()(),e.TgZ(36,"div",13)(37,"mat-form-field",14)(38,"mat-label"),e._uU(39,"category"),e.qZA(),e.TgZ(40,"mat-select",15),e.NdJ("ngModelChange",function(l){return o.categoryId=l})("selectionChange",function(){return o.getRecipesData()}),e.TgZ(41,"mat-option",16),e._uU(42,"All"),e.qZA(),e.YNc(43,S,2,2,"mat-option",17),e.qZA()()()()(),e.TgZ(44,"div",7)(45,"div",18),e.YNc(46,I,11,5,"div",19),e.qZA()(),e.TgZ(47,"mat-paginator",20,21),e.NdJ("page",function(l){return o.handlePageEvent(l)}),e.qZA()()()),2&i&&(e.xp6(26),e.Q6J("ngModel",o.searchValue),e.xp6(1),e.Q6J("ngIf",o.searchValue),e.xp6(5),e.Q6J("ngModel",o.tagId),e.xp6(3),e.Q6J("ngForOf",o.listTags),e.xp6(5),e.Q6J("ngModel",o.categoryId),e.xp6(3),e.Q6J("ngForOf",o.listCategories.data),e.xp6(3),e.Q6J("ngForOf",null==o.listData?null:o.listData.data),e.xp6(1),e.Q6J("length",null==o.listData?null:o.listData.totalNumberOfRecords)("pageSize",o.pageSize)("pageIndex",o.pageNumber)("pageSizeOptions",e.DdM(11,N)))},dependencies:[c.sg,c.O5,r.Fj,r.JJ,C.Hw,Z.RK,R.Nt,p.KE,p.hX,p.R9,r.On,U.NW,A.gD,b.ey,c.H9]})}return a})()}];let J=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.oAB({type:a});static#o=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(D),d.Bz]})}return a})();var F=s(8718);let x=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.oAB({type:a});static#o=this.\u0275inj=e.cJS({imports:[c.ez,J,F.G]})}return a})()}}]);