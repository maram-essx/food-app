"use strict";(self.webpackChunkfood_app=self.webpackChunkfood_app||[]).push([[69],{6069:(F,d,s)=>{s.r(d),s.d(d,{UsersModule:()=>w});var g=s(6814),h=s(3403),Z=s(8483),m=s(7700),e=s(5879);let U=(()=>{class n{constructor(t,o){this.dialogRef=t,this.data=o,this.imgUrl="https://upskilling-egypt.com:3006/",this.emptyImage="../../../../../assets/images/home-avatar.svg"}ngOnInit(){}onNoClick(){this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(m.so),e.Y36(m.WI))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-user"]],decls:17,vars:4,consts:[[1,"container"],[1,"row","p-5"],[1,"col-md-4"],["alt","",1,"w-50",3,"src"],[1,"col-md-8"],[1,"fa-solid","fa-phone"],[1,"col-12","text-end","my-2","p-3"],[1,"btn","btn-secondary",3,"click"]],template:function(o,a){1&o&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div"),e._UZ(5,"img",3),e.qZA()(),e.TgZ(6,"div",4)(7,"h2"),e._uU(8),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.TgZ(11,"p")(12,"i",5),e._uU(13),e.qZA()()()()(),e.TgZ(14,"div",6)(15,"button",7),e.NdJ("click",function(){return a.onNoClick()}),e._uU(16,"close"),e.qZA()()()),2&o&&(e.xp6(5),e.Q6J("src",a.data.imagePath?a.imgUrl+a.data.imagePath:a.emptyImage,e.LSH),e.xp6(3),e.Oqu(a.data.userName),e.xp6(2),e.Oqu(a.data.email),e.xp6(3),e.Oqu(a.data.phoneNumber))}})}return n})();var f=s(7302),T=s(4400),v=s(9862);let _=(()=>{class n{constructor(t){this._HttpClient=t}getAllUsers(t){return this._HttpClient.get("Users",{params:t})}onDeleteUser(t){return this._HttpClient.delete(`Users/${t}`)}static#e=this.\u0275fac=function(o){return new(o||n)(e.LFG(v.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var c=s(6223),p=s(6311),C=s(617),A=s(2296),y=s(2032),u=s(9157),b=s(3365),q=s(4913),N=s(3680);function M(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return a.searchValue="",e.KtG(a.getUsersData())}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}}function D(n,r){if(1&n&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function S(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",31),e._UZ(6,"img",32),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"button",33)(17,"mat-icon"),e._uU(18,"more_vert"),e.qZA()(),e.TgZ(19,"mat-menu",null,34)(21,"button",35),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.openViewDialog(i))}),e.TgZ(22,"mat-icon"),e._uU(23,"visibility"),e.qZA(),e.TgZ(24,"span"),e._uU(25,"view"),e.qZA()(),e.TgZ(26,"button",35),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.openDeleteDialog(i.id))}),e.TgZ(27,"mat-icon"),e._uU(28,"delete"),e.qZA(),e.TgZ(29,"span"),e._uU(30,"delete"),e.qZA()()()()()}if(2&n){const t=r.$implicit,o=e.MAs(20),a=e.oxw();e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.userName),e.xp6(2),e.Q6J("src",t.imagePath?a.baseUrlImg+t.imagePath:a.emptyImg,e.LSH),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.phoneNumber),e.xp6(2),e.Oqu(t.country),e.xp6(2),e.Oqu(t.group.name),e.xp6(2),e.Q6J("matMenuTriggerFor",o)}}const x=function(){return[5,10,25,100]},I=[{path:"",component:(()=>{class n{constructor(t,o,a,i){this._CategoryService=t,this._RecipeService=o,this._UsersService=a,this.dialog=i,this.baseUrlImg="https://upskilling-egypt.com:3006/",this.emptyImg="../../../assets/images/auth-bg.png",this.searchValue="",this.hidePageSize=!1,this.showPageSizeOptions=!0,this.showFirstLastButtons=!0,this.disabled=!1,this.pageSize=10,this.pageNumber=1,this.categoryItem="",this.listTags=[],this.listCategories={data:[],pageSize:0,pageNumber:0,totalNumberOfRecords:0,totalNumberOfPages:0},this.roleIds=[],this.paramterKey="",this.getUsersData()}getUsersData(){console.log("this.paramterKey"),console.log(this.paramterKey),console.log(this.searchValue),this._UsersService.getAllUsers({[this.paramterKey]:this.searchValue,groups:this.roleIds,pageSize:this.pageSize,pageNumber:this.pageNumber}).subscribe({next:o=>{this.listData=o,console.log("res of getRecipesData"),console.log(o)},error:o=>{console.log(o)}})}handlePageEvent(t){console.log(t),this.pageSize=t.pageSize,this.pageNumber=t.pageIndex,this.getUsersData()}openDeleteDialog(t){this.dialog.open(Z.T,{data:{itemId:t}}).afterClosed().subscribe(a=>{console.log("The dialog was closed"),console.log(a),a&&this.deleteItem(a)})}openViewDialog(t){this.dialog.open(U,{data:t}).afterClosed().subscribe(a=>{console.log("The dialog was closed"),console.log(a),a&&this.deleteItem(a)})}deleteItem(t){this._UsersService.onDeleteUser(t).subscribe({next:o=>{console.log("item deleted"),console.log(o)},error:o=>{console.log(o)},complete:()=>{this.getUsersData()}})}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(f.H),e.Y36(T.j),e.Y36(_),e.Y36(m.uw))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-users"]],decls:71,vars:11,consts:[[1,"page-title"],[1,"row","align-items-center","px-3"],[1,"col-md-8"],[1,"col-md-4","text-end"],["src","../../../assets/images/Group 48102127.svg","alt","",1,"w-50"],[1,"d-flex","align-items-center","justify-content-between","mt-2"],[1,"h4"],[1,"primary"],[1,"container"],[1,"row"],[1,"col-md-3"],["appearance","outline"],[3,"ngModel","ngModelChange","selectionChange"],["value","userName"],["value","email"],["value","country"],[1,"col-md-6"],["appearance","outline",1,"example-form-field","w-100"],["matInput","","type","text",3,"ngModel","ngModelChange","keyup.enter"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["multiple","",3,"ngModel","ngModelChange","selectionChange"],["value","1"],["value","2"],[3,"value",4,"ngFor","ngForOf"],[1,"table","table-striped"],[1,"text-uppercase","px-4"],[4,"ngFor","ngForOf"],["aria-label","Select page",1,"demo-paginator",3,"length","pageSize","pageIndex","pageSizeOptions","page"],["paginator",""],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],[1,"w-25"],["alt","",1,"w-25",3,"src"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(o,a){1&o&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div")(5,"h1"),e._uU(6,"Users "),e.TgZ(7,"span"),e._uU(8,"item"),e.qZA()(),e.TgZ(9,"p"),e._uU(10," This is a welcoming screen for the entry of the application , you can now see the options "),e.qZA()()(),e.TgZ(11,"div",3)(12,"div"),e._UZ(13,"img",4),e.qZA()()()(),e.TgZ(14,"div")(15,"div",5)(16,"h2",6),e._uU(17,"Users Table"),e.qZA(),e.TgZ(18,"button",7),e._uU(19,"Add New Category"),e.qZA()(),e.TgZ(20,"p"),e._uU(21,"You can check all details"),e.qZA(),e.TgZ(22,"div",8)(23,"div",9)(24,"div",10)(25,"mat-form-field",11)(26,"mat-label"),e._uU(27,"search by"),e.qZA(),e.TgZ(28,"mat-select",12),e.NdJ("ngModelChange",function(l){return a.paramterKey=l})("selectionChange",function(){return a.getUsersData()}),e.TgZ(29,"mat-option",13),e._uU(30,"name"),e.qZA(),e.TgZ(31,"mat-option",14),e._uU(32,"email"),e.qZA(),e.TgZ(33,"mat-option",15),e._uU(34,"country"),e.qZA()()()(),e.TgZ(35,"div",16)(36,"mat-form-field",17)(37,"mat-label"),e._uU(38,"Clearable input"),e.qZA(),e.TgZ(39,"input",18),e.NdJ("ngModelChange",function(l){return a.searchValue=l})("keyup.enter",function(){return a.getUsersData()}),e.qZA(),e.YNc(40,M,3,0,"button",19),e.qZA()(),e.TgZ(41,"div",10)(42,"mat-form-field",11)(43,"mat-label"),e._uU(44,"Role"),e.qZA(),e.TgZ(45,"mat-select",20),e.NdJ("ngModelChange",function(l){return a.roleIds=l})("selectionChange",function(){return a.getUsersData()}),e.TgZ(46,"mat-option",21),e._uU(47,"Admin"),e.qZA(),e.TgZ(48,"mat-option",22),e._uU(49,"User"),e.qZA(),e.YNc(50,D,2,2,"mat-option",23),e.qZA()()()()(),e.TgZ(51,"table",24)(52,"thead",25)(53,"th"),e._uU(54,"id"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"name"),e.qZA(),e.TgZ(57,"th"),e._uU(58,"image"),e.qZA(),e.TgZ(59,"th"),e._uU(60,"email"),e.qZA(),e.TgZ(61,"th"),e._uU(62,"phoneNumber"),e.qZA(),e.TgZ(63,"th"),e._uU(64,"country"),e.qZA(),e.TgZ(65,"th"),e._uU(66,"role"),e.qZA()(),e.TgZ(67,"tbody"),e.YNc(68,S,31,8,"tr",26),e.qZA()(),e.TgZ(69,"mat-paginator",27,28),e.NdJ("page",function(l){return a.handlePageEvent(l)}),e.qZA()()()),2&o&&(e.xp6(28),e.Q6J("ngModel",a.paramterKey),e.xp6(11),e.Q6J("ngModel",a.searchValue),e.xp6(1),e.Q6J("ngIf",a.searchValue),e.xp6(5),e.Q6J("ngModel",a.roleIds),e.xp6(5),e.Q6J("ngForOf",a.listTags),e.xp6(18),e.Q6J("ngForOf",null==a.listData?null:a.listData.data),e.xp6(1),e.Q6J("length",null==a.listData?null:a.listData.totalNumberOfRecords)("pageSize",a.pageSize)("pageIndex",a.pageNumber)("pageSizeOptions",e.DdM(10,x)))},dependencies:[g.sg,g.O5,c.Fj,c.JJ,p.VK,p.OP,p.p6,C.Hw,A.RK,y.Nt,u.KE,u.hX,u.R9,c.On,b.NW,q.gD,N.ey]})}return n})()}];let O=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#a=this.\u0275inj=e.cJS({imports:[h.Bz.forChild(I),h.Bz]})}return n})();var J=s(8718);let w=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#a=this.\u0275inj=e.cJS({imports:[g.ez,O,J.G]})}return n})()}}]);